console.log("2");
if(annyang){var definir=function(a){startFetch(a,12,1E3)},textbox=document.getElementById("sophia-reply"),tempscript=null,minchars,maxchars,attempts;startFetch=function(a,b,e,c){tempscript||(c||(attempts=0,minchars=b,maxchars=e),tempscript=document.createElement("script"),tempscript.type="text/javascript",tempscript.id="tempscript",tempscript.src="https://pt.wikipedia.org/w/api.php?action=query&titles="+a+"&redirects=1&prop=extracts&exchars="+maxchars+"&exintro&format=json&callback=onFetchComplete&requestid="+Math.floor(999999*
Math.random()).toString(),$("body").append(tempscript))};onFetchComplete=function(a){var b=b;$("#tempscript").remove();tempscript=null;a=getFirstProp(a.query.pages).extract;a=htmlDecode(stripTags(a));a=a.replace(/(\n\n|\n\n\n|^\n([A-Z]))/gi," $2");a=a.replace(/\n/gi,", ");a=/[^.]*/.exec(a)[0]+".";console.log(a);a.length>minchars||2<attempts++?(ai.say(a),bootstrap.title.animation("fadeInUp","fadeOut"),bootstrap.title.text('<span class="title_Med">'+a+"</span>")):($("#sophia-reply").html('N\u00e3o encontrei nada sobre "'+
b+'"'),voz())};getFirstProp=function(a){for(var b in a)return a[b]};stripTags=function(a){return a.replace(/(\[.*?\])|(>)|\"|(\s\(.*?\))|<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")};htmlDecode=function(a){var b=document.createElement("div");b.innerHTML=a;return 0===b.childNodes.length?"":b.childNodes[0].nodeValue};reiniciar=function(){document.location.reload()};nameCommand_yes=function(){""!==intScr_nameInput.value&&(intScr_confirmButton.focus(),window.setTimeout(function(){intScr_nameInput.value=
user.name},100),window.setTimeout(function(){$(intScr_confirmButton).click()},500))};nameCommand_no=function(){bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Repita seu<br><span class="glossing-letter">primeiro nome</span></span>');notification.create("default","Por favor, repita seu nome.","img/icons/ionicons/outline/ios7-information-outline.png",5E3);ai.say("Ent\u00e3o por favor, repita seu nome. Se eu continuar n\u00e3o entendendo, aconselho voc\u00ea a digitar o seu nome na caixa abaixo.")};
genderCommand_yes=function(){$(intScr_confirmButton).click()};genderCommand_no=function(){$(".cs-placeholder").click()};treatmentCommand_yes=function(){$(intScr_confirmButton).click()};treatmentCommand_no=function(){$(".cs-placeholder").click()};nameFirstName=function(a){intScr_confirmButton.disabled=!1;user.name=a;window.setTimeout(function(){intScr_nameInput.value=a;ai.say("Escrevi seu nome na tela. Est\u00e1 correto?");bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Seu nome \u00e9 <span class="glossing-letter">'+
user.name+"</span>?</span>")},100);window.setTimeout(function(){user.name=a},500)};nameSurname=function(a){intScr_confirmButton.disabled=!1;user.name=a;window.setTimeout(function(){intScr_nameInput.value=a;ai.say("Preciso apenas do seu primeiro nome por enquanto. Est\u00e1 correto?");bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Seu primeiro nome \u00e9 <span class="glossing-letter">'+user.name+"</span>?</span>")},100);window.setTimeout(function(){user.name=
a},500)};genderSelect_male=function(){$(".cs-select").hasClass("cs-active")?(window.setTimeout(function(){$('.cs-options ul li[data-value="masculino"]').click();console.log("Evento 1: Click na op\u00e7\u00e3o masculino");bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Continuando...</span>')},400),ai.say("Certo."),window.setTimeout(function(){$(intScr_confirmButton).click();console.log("Evento 3: Click no confirmButton")},1500)):($(".cs-placeholder").click(),
console.log("Evento 1: Click no selectFx"),window.setTimeout(function(){$('.cs-options ul li[data-value="masculino"]').click();console.log("Evento 2: Click na op\u00e7\u00e3o masculino")},700),bootstrap.title.animation("fadeInUp","fadeOut"),bootstrap.title.text('<span class="title_Med">Continuando...</span>'),ai.say("Certo. Avan\u00e7ando."),window.setTimeout(function(){$(intScr_confirmButton).click();console.log("Evento 3: Click no confirmButton")},3E3))};genderSelect_female=function(){$(".cs-select").hasClass("cs-active")?
$('.cs-options ul li[data-value="feminino"]').click():($(".cs-placeholder").click(),window.setTimeout(function(){$('.cs-options ul li[data-value="feminino"]').click()},700));bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Continuando...</span>');ai.say("Certo.");window.setTimeout(function(){$(intScr_confirmButton).click()},1500)};defaultCommands={ok:function(){"permissions"===actualScreen?($(intScr_confirmButton).click(),notification.create("success",
"O microfone est\u00e1 funcionando corretamente!","",5E3)):ai.say("...")},"(pode)( )me cham(a)(e)(r) de *nome":function(a){user.name=a;Reload();salvarDados();ai.say("Ol\u00e1, "+a+"!")},"me chamo *nome":function(a){user.name=a;Reload();salvarDados();ai.say("Ol\u00e1, "+a+"!")},"meu nome \u00e9 *nome":function(a){user.name=a;Reload();salvarDados();ai.say("Ol\u00e1, "+a+"!")},"(Sophia)(Sofia) defin(e)(a) a *algo":definir,"(Sophia)(Sofia) defin(e)(a) o *algo":definir,"(Sophia)(Sofia) defin(e)(a) as *algo":definir,
"(Sophia)(Sofia) defin(e)(a) os *algo":definir,"(Sophia)(Sofia) defin(e)(a) *algo":definir,"(Sophia)(Sofia) defin(e)(a) :algo":definir,"(Sophia)(Sofia) quem \u00e9 *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) quem foi *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) quem era *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que \u00e9 o *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que \u00e9 a *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que \u00e9 um *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que \u00e9 uma *algo (Sophia)(Sofia)":definir,
"(Sophia)(Sofia) o que \u00e9 *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que significa *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) qual (\u00e9) o significado de *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) qual (\u00e9) o significado da palavra *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que s\u00e3o *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que s\u00e3o os *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que s\u00e3o as *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que foi o *algo (Sophia)(Sofia)":definir,
"(Sophia)(Sofia) o que foi a *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que era o *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que era a *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que era os *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que era as *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que era um *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que era uma *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que era uns *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia) o que era umas *algo (Sophia)(Sofia)":definir,
"(Sophia)(Sofia) (*jdhnibf) informa\u00e7\u00e3o d(e)(o)(a)(os)(as) *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia)( )(me) fala sobre (o)(a) *algo (Sophia)(Sofia)":definir,"(Sophia)(Sofia)( )(me) fala (um pouco) sobre (o)(a) *algo (Sophia)(Sofia)":definir,"atualiz(a)(e)(o)(r)":reiniciar,"reinici(a)(e)(o)(r)":reiniciar,"(*a) n\u00e3o falei co(ntigo)(m voc\u00ea)":function(){ai.attention.off();changeCommands(noAttentionCommands);ai.say("Se precisar de algo \u00e9 s\u00f3 chamar.");bootstrap.title.animation("fadeInUp",
"fadeOut");bootstrap.title.text('<span class="title_Med">Se precisar</span>')},"(*a) n\u00e3o (t\u00f4)(estou) falando co(ntigo)(m voc\u00ea)":function(){ai.attention.off();changeCommands(noAttentionCommands);ai.say("Se precisar de algo \u00e9 s\u00f3 chamar.");bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Se precisar</span>')},"n\u00e3o \u00e9 co(ntigo)(m voc\u00ea)":function(){ai.attention.off();changeCommands(noAttentionCommands);ai.say("Se precisar de algo \u00e9 s\u00f3 chamar.");
bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Se precisar</span>')},"desliga(r) (o) microfone":function(){ai.attention.off();changeCommands(noAttentionCommands);ai.say("Se precisar de algo \u00e9 s\u00f3 chamar.");bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Se precisar</span>')},"*sentence":function(a){actualInput.value=a;actualInput===document.querySelector("#user-input")&&rotina();a=a.toLowerCase();
ai.action(a)}};speakingCommands={ok:function(){changeCommands(defaultCommands);actualInput.value="ok";rotina();console.log("ouvindo: sim")},"So(ph)(f)ia":function(){changeCommands(defaultCommands);actualInput.value="Sophia";rotina();console.log("ouvindo: sim")}};noAttentionCommands={"so(ph)(f)ia":function(){ai.attention.on();actualInput.value="Sophia";rotina()},"so(ph)(f)ia *sentence":function(a){ai.attention.on();actualInput.value="Sophia "+a;rotina()},"*sentence so(ph)(f)ia":function(a){ai.attention.on();
actualInput.value=a+" Sophia";rotina()},"ei (*sentence)":function(a){void 0===a&&(a="");ai.attention.on();actualInput.value="Ei "+a;rotina()}};learnCommands={"abrir *sentence":function(a){a=a.toLowerCase();ai.learning.hasOwnProperty("abrir")||(ai.learning.abrir={});ai.learning.abrir[a]=function(){window.open("https://www.google.com/search?q="+a+"&btnI=")};changeCommands(defaultCommands);notification.create("success","Aprendi a abrir "+a,"",5E3)}};nameInputCommands={"atualiz(a)(e)(o)(r)":reiniciar,
"reinici(a)(e)(o)(r)":reiniciar,":sim":{regexp:/((sim|sing|c|si|se|sem|100)|(aham)|(|es)t\u00e1(| )(|certo|correto)(| )(|sim|sing|c|si|se)|(avan\u00e7(a|o)(|r))|(pr\u00f3xim(a|o)))$/,callback:nameCommand_yes},":n\u00e3o":{regexp:/((n\u00e3o|no|nan|nao|n\u00e3)|n\u00e3o (|es)t\u00e1|(|es)t\u00e1(| )(errado|incorreto))$/,callback:nameCommand_no},"(o) (meu nome \u00e9) :name":nameFirstName,"(eu) (me chamo) :name *surname":nameSurname};genderInputCommands={"atualiz(a)(e)(o)(r)":reiniciar,"reinici(a)(e)(o)(r)":reiniciar,
":sim":{regexp:/((|pode(|mos))(| )(sim|sing|c|si|se)|(|es)t\u00e1(| )(|certo|correto)(| )(|sim|sing|c|si|se)|(avan\u00e7(a|o)(|r))|(pr\u00f3xim(a|o)))$/,callback:genderCommand_yes},":n\u00e3o":{regexp:/((n\u00e3o|no|nan|nao|n\u00e3)|n\u00e3o (|es)t\u00e1|(|es)t\u00e1(| )(errado|incorreto))$/,callback:genderCommand_no},"as*x":genderSelect_male,"fe*minino":genderSelect_female};treatmentInputCommands={"atualiz(a)(e)(o)(r)":reiniciar,"reinici(a)(e)(o)(r)":reiniciar,ok:function(){"treatment"===actualScreen&&
($(intScr_confirmButton).click(),notification.create("success","Seja bem-vind"+user.article+user.voc+user.treatment+" "+user.name,"",5E3))},senhor:function(){$(".cs-select").hasClass("cs-active")?$('.cs-options ul li[data-value="senhor"]').click():($(".cs-placeholder").click(),window.setTimeout(function(){$('.cs-options ul li[data-value="senhor"]').click()},700));ai.say("Certo.");window.setTimeout(function(){$(intScr_confirmButton).click()},1500)},"patr\u00e3o":function(){$(".cs-select").hasClass("cs-active")?
$('.cs-options ul li[data-value="patr\u00e3o"]').click():($(".cs-placeholder").click(),window.setTimeout(function(){$('.cs-options ul li[data-value="patr\u00e3o"]').click()},700));ai.say("Certo.");window.setTimeout(function(){$(intScr_confirmButton).click()},1500)},"outr*o":function(){$(".cs-select").hasClass("cs-active")?$('.cs-options ul li[data-value="outro"]').click():($(".cs-placeholder").click(),window.setTimeout(function(){$('.cs-options ul li[data-value="outro"]').click()},700));ai.say("Pode dizer.");
changeActualInput("#introducing-screen-treatment-input-custom")},"(apenas)(somente)(s\u00f3) (pel)(o)(a) nome":function(){$(".cs-select").hasClass("cs-active")?$('.cs-options ul li[data-value="nenhum"]').click():($(".cs-placeholder").click(),window.setTimeout(function(){$('.cs-options ul li[data-value="nenhum"]').click()},700));ai.say("Certo.");window.setTimeout(function(){$(intScr_confirmButton).click()},1500)},novamente:function(){$(".cs-select").hasClass("cs-active")||$(".cs-placeholder").click();
ai.say("N\u00e3o era a resposta que eu esperava, mas entendi. Escolha uma das op\u00e7\u00f5es.")},"*outro":function(a){$(".cs-select").hasClass("cs-active")?(intScr_confirmButton.disabled=!1,user.treatment=a,window.setTimeout(function(){$('.cs-options ul li[data-value="outro"]').click();intScr_treatmentInput_custom.value=user.treatment},500),window.setTimeout(function(){intScr_treatmentInput_custom.value=a;ai.say("Diga okey se estiver correto ou diga novamente se n\u00e3o.");bootstrap.title.animation("fadeInUp",
"fadeOut");bootstrap.title.text('<span class="title_Med">Diga <span class="glossing-letter">Ok</span> se estiver correto ou repita.</span>')},1E3)):($(".cs-placeholder").click(),window.setTimeout(function(){intScr_confirmButton.disabled=!1;user.treatment=a;window.setTimeout(function(){$('.cs-options ul li[data-value="outro"]').click();intScr_treatmentInput_custom.value=user.treatment},500);window.setTimeout(function(){intScr_treatmentInput_custom.value=a;ai.say("Diga okey se estiver correto ou diga novamente se n\u00e3o.");
bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span class="title_Med">Diga <span class="glossing-letter">Ok</span> se estiver correto ou repita.</span>')},1E3)},700),ai.say("Okey. Trocando... Posso avan\u00e7ar?"))}};annyang.setLanguage("pt-BR");annyang.addCallback("errorPermissionDenied",function(){notification.create("warning","Permiss\u00e3o do uso do microfone negada.","img/icons/ionicons/ios7-mic-off.png",5E3);micPermission=!1;localStorage["mic-permission"]=!1;ai.say("Permiss\u00e3o do uso do microfone negada. Por favor, reconsidere, e permita o meu acesso ao microfone para uma melhor experi\u00eancia.")});
annyang.addCallback("errorPermissionBlocked",function(){micPermission=!1;localStorage["mic-permission"]=!1;window.setTimeout(function(){notification.create("warning","Permiss\u00e3o do uso do microfone bloqueada.","img/icons/ionicons/ios7-mic-off.png",5E3);bootstrap.title.animation("fadeInUp","fadeOut");bootstrap.title.text('<span style="font-size: 18pt"><span class="glossing-letter">Problema com o microfone</span><br><br>Verifique se o microfone est\u00e1 conectado e funcionando e me reinicie apertando F5.</span>');
intScr_confirmButton.innerHTML='<span class="title_Small">Reiniciar</span>';intScr_confirmButton.setAttribute("onclick","document.location.reload()");$("#drawn-arrow-permissions").hide();ai.say("Permiss\u00e3o do uso do microfone bloqueada. Verifique se h\u00e1 algum microfone conectado e se ele est\u00e1 em pleno funcionamento. Ap\u00f3s isso pressione F5 para me reiniciar.")},2500)});annyang.addCallback("errorNetwork",function(){ai.network(!1);notification.create("error","Problema na conex\u00e3o.",
"img/icons/windows/appbar.network.disconnect.png",5E3)});annyang.addCallback("error",function(){console.log("Problema tempor\u00e1rio no reconhecimento de voz.")});annyang.addCallback("soundstart",function(){console.log("Ru\u00eddo detectado");micPermission=!0;localStorage["mic-permission"]=!0});annyang.addCallback("end",function(){});annyang.addCallback("resultNoMatch",function(){console.log("considerar: n\u00e3o")});annyang.addCallback("resultMatch",function(){console.log("considerar: sim")})}
function annyangStart(){var a=annyang.getSpeechRecognizer(),b="";a.interimResults=!0;annyang.start();a.onresult=function(a){var c="";b="";for(var d=a.resultIndex;d<a.results.length;++d)a.results[d].isFinal?(b+=a.results[d][0].transcript,console.log("Reconhecido: "+b),annyang.trigger(b)):c+=a.results[d][0].transcript;actualInput.value=b;actualInput.value=c;speakingLog.innerHTML=b;speakingLog.innerHTML=c}};
